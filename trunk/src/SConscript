sources="""
  avframe.cpp
  buffer.cpp
  differenceimageprovider.cpp
  dvbcut.cpp
  eventlistitem.cpp
  exception.cpp
  exportdialog.cpp
  imageprovider.cpp
  index.cpp
  lavfmuxer.cpp
  logoutput.cpp
  main.cpp
  mpegmuxer.cpp
  mpgfile.cpp
  playaudio.cpp
  progressstatusbar.cpp
  progresswindow.cpp
  psfile.cpp
  pts.cpp
  settings.cpp
  streamdata.cpp
  tsfile.cpp
  dvbcutbase.ui
  mplayererrorbase.ui
  progresswindowbase.ui
  exportdialogbase.ui
  """.split()

Import('env')

env.bin_targets.append(env.Program("../bin/dvbcut",sources))

 
idfiles="""
  avframe.cpp
  avframe.h
  buffer.cpp
  buffer.h
  busyindicator.h
  defines.h
  differenceimageprovider.cpp
  differenceimageprovider.h
  dvbcut.cpp
  dvbcut.h
  dvbcutbase.ui
  eventlistitem.cpp
  eventlistitem.h
  exception.cpp
  exception.h
  exportdialog.cpp
  exportdialog.h
  exportdialogbase.ui
  imageprovider.cpp
  imageprovider.h
  index.cpp
  index.h
  lavfmuxer.cpp
  lavfmuxer.h
  logoutput.cpp
  logoutput.h
  main.cpp
  mpegmuxer.cpp
  mpegmuxer.h
  mpgfile.cpp
  mpgfile.h
  mplayererrorbase.ui
  muxer.h
  playaudio.cpp
  playaudio.h
  port.h
  progressstatusbar.cpp
  progressstatusbar.h
  progresswindow.cpp
  progresswindow.h
  progresswindowbase.ui
  psfile.cpp
  psfile.h
  pts.cpp
  pts.h
  settings.cpp
  settings.h
  stream.h
  streamdata.cpp
  streamdata.h
  streamhandle.h
  tsfile.cpp
  tsfile.h
  types.h
  """.split()

versfile=File("version.h")

env.Command(
  target=versfile,
  source=idfiles,
  action=[
    "cd src && ../setversion.sh %s" % (" ".join(idfiles))
  ])
