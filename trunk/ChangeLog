2007-09-30  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/defines.h:
		Move default values to src/settings.cpp.

	* src/eventlistitem.cpp:
		Use label strings from the configuration file.
 
	* src/settings.cpp:
	* src/settings.h:
		Add label strings to the configuration file.

2007-09-29  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/eventlistitem.cpp:
		Use light gray background for STOP items.

2007-09-27  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Add delete all/others function to event list
		(patch by Ralph Glasstetter).

2007-09-13  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Really fix project file encoding this time.

2007-09-07  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Always use UTF-8 encoding for project file.
		Add a proper XML declaration at the beginning.

2007-09-06  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/main.cpp:
		Locale patch by Michael Kreuzer.

2007-08-17  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/mpegmuxer.cpp:
		Prepare for DTS audio.

	* src/psfile.cpp:
		Improved stream detection (including DTS and subtitle hooks).

2007-08-15  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/tsfile.cpp:
		Improved SI table parser and stream detection.

2007-08-10  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/tsfile.cpp:
		Also detect teletext and subtitle streams. We may
		not be able to use them, but it's good to know that
		they're there.

2007-08-03  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/tsfile.h:
	* src/tsfile.cpp:
		Add SI table parser.

2007-08-02  Michael Riepe  <too-tired@users.sourceforge.net>

	* SConstruct:
		Check for libswscale.

	* src/avframe.h:
	* src/avframe.cpp:
		Use libswscale if present (patch by Michael Kreuzer).

	* src/Makefile.w32:
		Also scan Makefile.w32 for id keyword.

2007-07-30  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Set svn:keywords property.

2007-07-28  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Fix "versioned" build on Windows.

2007-07-28  Michael Riepe  <too-tired@users.sourceforge.net>

	* SConstruct:
	* src/avframe.h:
	* src/lavfmuxer.cpp:
	* src/lavfmuxer.h:
	* src/main.cpp:
	* src/mpgfile.cpp:
	* src/mpgfile.h:
	* src/psfile.cpp:
	* src/stream.h:
	* src/tsfile.cpp:
		Ffmpeg interface cleanup patch by Wolfram Gloger.

2007-07-28  Michael Riepe  <too-tired@users.sourceforge.net>

	* VERSION:
	* setversion.sh:
		New files.

	* src/SConscript:
	* src/Makefile.w32:
		Generate version.h.

	* src/dvbcut.cpp:
		Include version string in caption.

2007-07-23  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Reset inbuffer only if there are new input files.

2007-07-11  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Add explicit dependencies for moc and uil files.

	* numerous other files:
		Add "Id" keyword.

2007-07-10  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Write to log instead of stderr.
		Redirect log to stderr if there is no GUI.

	* src/logoutput.cpp:
		Simplify code, avoid memory allocations.
		Don't prefix each line with a progress indicator.
 
	* src/mpgfile.cpp:
		Write to log instead of stderr.
 
	* src/progresswindow.cpp:
		Let print("") insert a line break.

2007-07-09  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp:
		Export all frames in batch mode if there isn't a project file
		(patch by Ralph Glasstetter).

	* src/main.cpp:
		Allow multiple filenames in batch mode.

2007-07-07  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Add copyright and license text.

2007-07-06  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Fix generation of required files.

2007-07-06  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp:
	* src/buffer.h:
		Use posix_fadvise in sequential mode.

	* src/main.cpp:
		Use sequential mode when indexing.

	* src/dvbcut.cpp:
		Use sequential mode when indexing or exporting.

2007-07-05  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		Use -Wall.
		Only remove ffmpeg install directories when distcleaning.

	* src/buffer.cpp:
		Disable mmap() on Windows.

	* mingw.sh:
		Use src/Makefile.w32 for everything.

2007-07-05  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/Makefile.w32:
		New file.

	* mingw.sh:
		Set svn:executable property.
		Use src/Makefile.w32.

2007-07-05  Michael Riepe  <too-tired@users.sourceforge.net>

	Added svn:keyword property for all files except src/*.ui
	(I don't want to confuse Qt designer).

2007-07-04  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp:
		Use _lseeki64 on Windows.
		Only seek if necessary.
		Try to read a buffer full of data.

	* src/dvbcut.cpp:
		Remember last used load directory for Open.
 
	* src/settings.cpp:
	* src/settings.h:
		Add "lastdir" setting.

2007-07-03  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp:
		Use fstat/_fstati64 to obtain the file size. This is
		required to overcome the 2 GB limit on 32-bit systems
		(Windows in particular).

	* src/defines.h:
		Better defaults for multi-file mode.

2007-07-02  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp:
	* src/buffer.h:
	* src/dvbcut.cpp:
		"play multiple files" patch by Ralph Glasstetter.

2007-06-30  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp (class inbuffer):
	* src/buffer.h (class inbuffer):
		Support multiple input files.

	* src/dvbcut.cpp:
	* src/dvbcut.h:
		Open multiple input files.
		Read & write new project file format.
		Factor out pathname canonicalization.

	* src/main.cpp:
		Open multiple input files.

	* src/mpgfile.cpp:
		Use number of frames for bitrate estimation.

2007-06-29  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/buffer.cpp (class inbuffer):
	* src/buffer.h (class inbuffer):
		Let open() return bool.
		Remove copy constructor for inbuffer.
		Add reset() member for inbuffer reuse.
 
	* src/dvbcut.h:
	* src/dvbcut.cpp:
		Add reusable inbuffer member to class dvbcut.
		Pass inbuffer to mpgfile::open().
 
	* src/main.cpp:
		Centralize option handling.
		Pass inbuffer to mpgfile::open().
 
 	* src/mpgfile.h:
 	* src/mpgfile.cpp:
 		Create mpgfile from inbuffer, not from filename.
 		Use a reference to a single inbuffer.

2007-06-27  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/mpgfile.cpp:
	* src/mpgfile.h:
	* src/psfile.cpp:
	* src/psfile.h:
	* src/tsfile.cpp:
	* src/tsfile.h:
	  Do not pass a filename to class mpgfile and its derivatives.
	  Once we support multi-file sources, a filename makes no sense
	  any longer.  We should instead pass the entire group of files
	  via a multi-file source class (e.g. a modified inbuffer).

2007-06-19  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp: suggest a name for the project file.

2007-06-19  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcut.cpp: show filenames in caption.

2007-06-17  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/defines.h: include *.rec in DEFAULT_LOADFILTER.

2007-06-17  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/dvbcutbase.ui: add accelerators for st(A)rt, e(N)d,
	  (C)hapter and (B)ookmark.

	* src/defines.h: include *.vdr and *.tts in DEFAULT_LOADFILTER.

2007-06-12  Michael Riepe  <too-tired@users.sourceforge.net>

	* Windows build script & README update by Ralph Glasstetter.

2007-06-03  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/mpegmuxer.cpp: fix size calculation.

2007-05-30  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/streamdata.cpp: add missing #include <assert.h>

2007-05-29  Michael Riepe  <too-tired@users.sourceforge.net>

	* audio_addpts() patch by Wolfram Gloger.

	* Code cleanup + beautification by myself.

	* src/index.cpp: remove false "missing frame" alarms.

2007-05-27  Michael Riepe  <too-tired@users.sourceforge.net>

	* Add batch mode. You can now call "dvbcut -batch <project>.prj"
	  and dvbcut will export the file in your preferred format
	  (default is DVB format using the dvbcut muxer). Note that the
	  project file is essential because it contains the cut list.
	  The name of the output file will be "<project>.mpg". If
	  that file already exists, dvbcut adds numeric suffixes
	  (e.g. "<project>_1.mpg") until the name is unique.

2007-05-13  Michael Riepe  <too-tired@users.sourceforge.net>

	* lavfmuxer.cpp: include patch from Wolfram Gloger.

	* When using the mouse wheel, limit position to [0...pictures-1].

2007-05-09  Sven Over  <svenover@svenover.de>

	* Added generic dvbcut_exception class.

	* Got rid of libavcodec usage in playaudio.cpp. Instead, libmad and
	liba52 are now used. SCons files changed accordingly.

2007-05-06  Michael Riepe  <too-tired@users.sourceforge.net>

	* Remember last used export format.

2007-05-03  Michael Riepe  <too-tired@users.sourceforge.net>

	* src/mpgfile.cpp: print estimated data rate.

	* src/index.cpp: changed additional error messages.

2007-04-29  Michael Riepe  <too-tired@users.sourceforge.net>

	* Changed export accelerator to 'E'.

2007-04-13  Sven Over  <svenover@svenover.de>

	* Released version 0.5.4.

2007-03-06  Michael Riepe  <too-tired@users.sourceforge.net>

	* Report missing frames in GOP while indexing.

2007-02-12  Michael Riepe  <too-tired@users.sourceforge.net>

	* Write proper GOP time_code values when exporting.

2007-01-30  Michael Riepe  <too-tired@users.sourceforge.net>

	* Added workaround for div/0 bug in ffmpeg.

	* Added missing ChangeLog entry. :-)

2007-01-28  Sven Over  <svenover@svenover.de>

	* Applied patch for SConstruct file by Ingo Saitz, as forwarded to me
	by Christian Marillat.

	* Fixed 2 compiler warnings in mpegmuxer.cpp.

	* Christian Marillat reported build problems on alpha, where the
	__bswap_constant_xx macros seem not to be available. Changed defines
	in defines.h not to use them anymore.

2007-01-26  Michael Riepe  <too-tired@users.sourceforge.net>

	* Integrated Windows port by Olivier Raoul.

	* Added XML generation feature by Ralph Glasstetter.

2006-09-24  Michael Riepe  <too-tired@users.sourceforge.net>

	* Moved global settings to a separate class.

	* Changed jog_offset to type double. The default is now 0.4.

	* Updated ChangeLog ;-)

	* Added configurable jog slider patch from Ralph Glasstetter.

2006-09-23  Michael Riepe  <too-tired@users.sourceforge.net>

	* Added more configuration settings.

2006-09-22  Michael Riepe  <too-tired@users.sourceforge.net>

	* Made mouse wheel resolution configurable.

2006-09-21  Michael Riepe  <too-tired@users.sourceforge.net>

	* Added selectable resolutions for the mouse wheel (via
	modifier keys).

2006-09-18  Michael Riepe  <too-tired@users.sourceforge.net>

	* Fixed yesterday's patch. The messages should be gone now.

2006-09-17  Michael Riepe  <too-tired@users.sourceforge.net>

	* Modified the indexer to suppress most "inconsistent video
	PTS (-1696)" message.

2006-09-05  Michael Riepe  <too-tired@users.sourceforge.net>

	* Added all existing bug fixes from http://www.mr511.de/dvbcut.

2005-12-16  Sven Over  <svenover@svenover.de>

	* Release 0.5.3.

2005-12-15  Sven Over  <svenover@svenover.de>

	* Important bug fixes in the DVBCUT muxer.

	* Fixed a bug in the audio player function, which caused no audio to
	be played in certain situations.

	* Fixed a bug in saving the index file, which caused an "Invalid index
	file" error when loading the index.

	* New items in the "View" menu: "Full size", "Half size" and "Quarter
	Size". Also added a "-geometry" option with the correct display size
	to the command line when spawning the embedded MPlayer.

	* The DVBCUT muxer is now available in two variants: apart from the
	one which creates DVD compliant (well, hopefully) program streams,
	there is now also one for plain program streams. The latter has no
	fixed pack size (DVD demands 2048 bytes fixed pack size), and no
	special placeholder packs for DVD navigation data. (Tech note: audio
	buffers are as big as 49152 bytes, as opposed to 4096 in the DVBCUT
	DVD muxer. This is to circumvent problems because of the very big
	video stream packs.) It creates files that are a few percent smaller
	than the DVD muxer, as muxing overhead is considerably smaller.

2005-12-11  Sven Over  <svenover@svenover.de>

	* Release 0.5.2.

	* Replaced the menu items for exporting MPEG program stream and MPEG
	transport stream by one item "Export video". When selected, a new
	dialog window appears, in which you can choose the output format.
	Apart from the libavformat-based program stream and transport stream
	output formats, now also a DVBCUT muxer is available which writes
	DVD compliant program streams. The muxer is still subject to testing.

	* The "Play" menu now has a submenu "Audio track", in which the user
	can choose which audio track to play when clicking on "Play audio"
	or when starting the embedded MPlayer.

	* AC3 support added. Both the transport and the program stream reader
	can read AC3 streams (tested with DVB and DVD material, respectively).
	AC3 gets decoded for the "Play Audio" menu items. Writing AC3 has been
	tested with the libavformat PS and TS muxers as well as with the new
	DVBCUT muxer.

	* Implemented mmapped reading of input files.

	* Added "Recent files..." submenu to the "File" menu. The information
	is saved by means of the Qt QSettings mechanism, in a file
	"~/.qt/dvbcut.sf.netrc".

2005-11-27  Sven Over  <svenover@svenover.de>

	* Release 0.5.1.

	* Numerous small fixes.

	* While indexing an input file, show a progress bar and a cancel
	button in the status bar of the DVBCUT window.

	* Show busy mouse cursor while decoding video and while loading or
	indexing video.
  
	* Incorporated the sources of the FFMPEG libraries (libavcodec,
	libavformat, libavutil) into the DVBCUT source directory. This will
	ease the install procedure significantly for those who do not have
	these libraries installed or have installed an incompatible version.

	* Introduced SCons as build utility. A Makefile is also provided,
	which calls SCons.

2005-11-21  Sven Over  <svenover@svenover.de>

	* First public release.

